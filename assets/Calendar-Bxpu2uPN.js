import{j as a}from"./jsx-runtime-D_zvdyIk.js";import{r as w}from"./index-Dz3UJJSw.js";import{c as y}from"./clsx-B-dksMZM.js";const M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],z=["Su","Mo","Tu","We","Th","Fr","Sa"],N=w.forwardRef(function({className:k,mode:u="single",selected:t,onSelect:o,disabled:m,minDate:v,maxDate:D,defaultMonth:A,showMonthYearDropdowns:Y=!0,numberOfMonths:p=1,..._},q){const[c,h]=w.useState(A||new Date),j=e=>v&&e<v||D&&e>D?!0:Array.isArray(m)?m.some(r=>i(r,e)):typeof m=="function"?m(e):!1,i=(e,r)=>e.getDate()===r.getDate()&&e.getMonth()===r.getMonth()&&e.getFullYear()===r.getFullYear(),F=e=>{if(!t)return!1;if(u==="single"&&t instanceof Date)return i(t,e);if(u==="multiple"&&Array.isArray(t))return t.some(r=>i(r,e));if(u==="range"&&t&&typeof t=="object"&&"from"in t){const{from:r,to:s}=t;if(i(r,e)||s&&i(s,e)||s&&e>r&&e<s)return!0}return!1},V=e=>{if(u!=="range"||!t||typeof t!="object"||!("from"in t))return!1;const{from:r,to:s}=t;return s?e>r&&e<s:!1},L=e=>u!=="range"||!t||typeof t!="object"||!("from"in t)?!1:i(t.from,e),R=e=>u!=="range"||!t||typeof t!="object"||!("from"in t)?!1:t.to?i(t.to,e):!1,E=e=>{if(!j(e)){if(u==="single")o==null||o(e);else if(u==="multiple"){const r=Array.isArray(t)?t:[];r.some(l=>i(l,e))?o==null||o(r.filter(l=>!i(l,e))):o==null||o([...r,e])}else if(u==="range"){const r=t&&typeof t=="object"&&"from"in t?t:null;!r||r.from&&r.to?o==null||o({from:e}):r.from&&!r.to&&(e<r.from?o==null||o({from:e,to:r.from}):o==null||o({from:r.from,to:e}))}}},I=e=>{const r=e.getFullYear(),s=e.getMonth(),l=new Date(r,s,1),g=new Date(r,s+1,0),n=[],f=l.getDay();for(let d=0;d<f;d++)n.push(new Date(r,s,-(f-d-1)));for(let d=1;d<=g.getDate();d++)n.push(new Date(r,s,d));return n},T=()=>{h(new Date(c.getFullYear(),c.getMonth()-1,1))},W=()=>{h(new Date(c.getFullYear(),c.getMonth()+1,1))},J=(e,r)=>{const s=I(e),l=e.getFullYear(),g=e.getMonth();return a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border-default",children:[r===0&&a.jsx("button",{type:"button",onClick:T,className:"p-1 hover:bg-bg-surface rounded transition-colors","aria-label":"Previous month",children:a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"text-fg-default",children:a.jsx("path",{d:"M10 12L6 8L10 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),Y?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{value:g,onChange:n=>h(new Date(l,parseInt(n.target.value),1)),className:"h-8 px-2 text-sm bg-bg-canvas border border-border-default rounded focus:outline-none focus:ring-2 focus:ring-border-focus",children:M.map((n,f)=>a.jsx("option",{value:f,children:n},f))}),a.jsx("select",{value:l,onChange:n=>h(new Date(parseInt(n.target.value),g,1)),className:"h-8 px-2 text-sm bg-bg-canvas border border-border-default rounded focus:outline-none focus:ring-2 focus:ring-border-focus",children:Array.from({length:20},(n,f)=>l-10+f).map(n=>a.jsx("option",{value:n,children:n},n))})]}):a.jsxs("div",{className:"text-sm font-semibold text-fg-default",children:[M[g]," ",l]}),(r===p-1||p===1)&&a.jsx("button",{type:"button",onClick:W,className:"p-1 hover:bg-bg-surface rounded transition-colors","aria-label":"Next month",children:a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"text-fg-default",children:a.jsx("path",{d:"M6 4L10 8L6 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 px-3 py-2 text-center",children:z.map(n=>a.jsx("div",{className:"text-xs font-semibold text-fg-secondary",children:n},n))}),a.jsx("div",{className:"grid grid-cols-7 gap-1 px-3 pb-3",children:s.map((n,f)=>{const d=n.getMonth()===g,b=F(n),x=j(n),O=i(n,new Date),P=V(n),H=L(n),K=R(n);return a.jsx("button",{type:"button",onClick:()=>E(n),disabled:x,className:y("h-8 w-8 flex items-center justify-center text-sm rounded transition-colors relative",d?"text-fg-default":"text-fg-muted",!x&&!b&&"hover:bg-bg-surface",b&&"bg-bg-brand text-fg-onbrand hover:bg-bg-brand-hover font-semibold",P&&!b&&"bg-bg-tertiary",H&&"rounded-r-none",K&&"rounded-l-none",O&&!b&&"border border-border-focus",x&&"opacity-40 cursor-not-allowed"),children:n.getDate()},f)})})]},r)},B=Array.from({length:p},(e,r)=>new Date(c.getFullYear(),c.getMonth()+r,1));return a.jsx("div",{ref:q,className:y("bg-bg-canvas border border-border-default rounded-lg shadow-2 overflow-hidden inline-block",k),..._,children:a.jsx("div",{className:y("flex",p>1&&"divide-x divide-border-default"),children:B.map((e,r)=>J(e,r))})})});try{N.displayName="Calendar",N.__docgenInfo={description:"",displayName:"Calendar",props:{mode:{defaultValue:{value:"single"},description:"Selection mode: single date, date range, or multiple dates",name:"mode",required:!1,type:{name:"enum",value:[{value:'"multiple"'},{value:'"single"'},{value:'"range"'}]}},selected:{defaultValue:null,description:"Selected date(s)",name:"selected",required:!1,type:{name:"Date | Date[] | { from: Date; to?: Date; }"}},onSelect:{defaultValue:null,description:"Callback when selection changes",name:"onSelect",required:!1,type:{name:"((date: Date | Date[] | { from: Date; to?: Date; }) => void) | undefined"}},disabled:{defaultValue:null,description:"Disabled dates",name:"disabled",required:!1,type:{name:"Date[] | ((date: Date) => boolean)"}},minDate:{defaultValue:null,description:"Minimum selectable date",name:"minDate",required:!1,type:{name:"Date"}},maxDate:{defaultValue:null,description:"Maximum selectable date",name:"maxDate",required:!1,type:{name:"Date"}},defaultMonth:{defaultValue:null,description:"Initial month to display",name:"defaultMonth",required:!1,type:{name:"Date"}},showMonthYearDropdowns:{defaultValue:{value:"true"},description:"Show month/year dropdowns",name:"showMonthYearDropdowns",required:!1,type:{name:"boolean"}},numberOfMonths:{defaultValue:{value:"1"},description:"Number of months to display",name:"numberOfMonths",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"}]}}}}}catch{}export{N as C};
